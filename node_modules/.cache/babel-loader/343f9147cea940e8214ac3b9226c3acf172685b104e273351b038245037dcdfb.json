{"ast":null,"code":"import{useEffect,useState}from\"react\";import mqtt from'mqtt';import{jsxs as _jsxs}from\"react/jsx-runtime\";const MQTT=()=>{const[msg,setMsg]=useState('');useEffect(()=>{const client=mqtt.connect('ws://broker.hivemq.com:8000/mqtt');client.on('connect',()=>{console.log('Connected to MQTT Broker');client.subscribe('IntroducerandeProjekt',()=>{console.log('Subscribed to topic');});});client.on('message',(topic,message)=>{console.log(\"Received message: \".concat(message.toString(),\" on topic: \").concat(topic));setMsg(message.toString());});return()=>{if(client.connected){client.end();}};},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[msg,\" \\xB0C\"]});};export default MQTT;","map":{"version":3,"names":["useEffect","useState","mqtt","jsxs","_jsxs","MQTT","msg","setMsg","client","connect","on","console","log","subscribe","topic","message","concat","toString","connected","end","children"],"sources":["/Users/imadtabikh/Desktop/skola/introducerande projekt/climate-control-github-pages/src/Mqtt.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport mqtt from 'mqtt';\r\n\r\nconst MQTT = () => {\r\n    const [msg, setMsg] = useState('')\r\n    useEffect(() => {\r\n        const client = mqtt.connect('ws://broker.hivemq.com:8000/mqtt')\r\n\r\n        client.on('connect', () => {\r\n            console.log('Connected to MQTT Broker'); \r\n\r\n            client.subscribe('IntroducerandeProjekt', () => {\r\n                console.log('Subscribed to topic')\r\n            })\r\n        })\r\n\r\n        client.on('message', (topic, message) => {\r\n            console.log(`Received message: ${message.toString()} on topic: ${topic}`)\r\n            setMsg(message.toString())\r\n        })\r\n\r\n        return () => {\r\n            if (client.connected) {\r\n                client.end();\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    return <div>{msg} Â°C</div>\r\n}\r\n\r\nexport default MQTT;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,IAAI,KAAM,MAAM,CAAC,OAAAC,IAAA,IAAAC,KAAA,yBAExB,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CAClCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAQ,MAAM,CAAGN,IAAI,CAACO,OAAO,CAAC,kCAAkC,CAAC,CAE/DD,MAAM,CAACE,EAAE,CAAC,SAAS,CAAE,IAAM,CACvBC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CAEvCJ,MAAM,CAACK,SAAS,CAAC,uBAAuB,CAAE,IAAM,CAC5CF,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACtC,CAAC,CAAC,CACN,CAAC,CAAC,CAEFJ,MAAM,CAACE,EAAE,CAAC,SAAS,CAAE,CAACI,KAAK,CAAEC,OAAO,GAAK,CACrCJ,OAAO,CAACC,GAAG,sBAAAI,MAAA,CAAsBD,OAAO,CAACE,QAAQ,CAAC,CAAC,gBAAAD,MAAA,CAAcF,KAAK,CAAE,CAAC,CACzEP,MAAM,CAACQ,OAAO,CAACE,QAAQ,CAAC,CAAC,CAAC,CAC9B,CAAC,CAAC,CAEF,MAAO,IAAM,CACT,GAAIT,MAAM,CAACU,SAAS,CAAE,CAClBV,MAAM,CAACW,GAAG,CAAC,CAAC,CAChB,CACJ,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOf,KAAA,QAAAgB,QAAA,EAAMd,GAAG,CAAC,QAAG,EAAK,CAAC,CAC9B,CAAC,CAED,cAAe,CAAAD,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}